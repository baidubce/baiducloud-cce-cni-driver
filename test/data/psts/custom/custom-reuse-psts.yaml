apiVersion: cce.io/v1alpha1
kind: PodSubnetTopologySpread
metadata:
    name: custom-reuse
    namespace: default
spec:
    priority: 11
    subnets:
        # exclude-f-1 172.22.78.0/24
        sbn-eu0hnb6g7v5z: 
            custom:
            - family: "4"
              customIPRange:
              - start: 172.22.78.4
                end: 172.22.78.6
         # exclude-f-2 172.22.79.0/24
        # sbn-gxz5a4f0dtzp: {}
    maxSkew: 10
    whenUnsatisfiable: ScheduleAnyway
    enablePodTopologySpread: true
    strategy:
        type: Custom
        releaseStrategy: TTL
        ttl: 3m
        enableReuseIPAddress: true
    selector:
        matchLabels:
            workloadType: sts
            reuseIP: "true"
            app: reuseIPApp    
